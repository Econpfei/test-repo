<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Py-Script Example</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css'  href='https://pyscript.net/alpha/pyscript.css'>
    <script defer src='https:/pyscript.net/alpha/pyscript.js'></script>
</head>
<body>
    <div id="lineplot"></div> 
    <py-env>
        - numpy
        - requests
        - matplotlib
        </py-env>
    <py-script>
        import matplotlib.pyplot as plt
        import numpy as np
        print("Let's compute pi")
        def wallis(n):
            pi = 2 
            for i in range(1,n):
                pi *= 4*i**2 / (4*i**2-1)
            return pi 
        pi = wallis(100000)
        s = f"pi is approximately {pi:.3f}"
        print(s)
        
    </py-script>
    <py-script output="lineplot">
        fig, ax = plt.subplots()
        ax.plot(range(30), 4*np.arange(30))
        fig
    </py-script>
</body>
</html>